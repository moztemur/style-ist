<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Style-ist Demo</title>
    <style>
      body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 0; padding: 16px; }
      .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
      .col { display: flex; flex-direction: column; gap: 8px; }
      button { padding: 8px 12px; }
      .stages { display: flex; gap: 16px; flex-wrap: wrap; }
      .stage { position: relative; width: min(100%, 480px); }
      video { width: 100%; border-radius: 8px; background: #000; }
      canvas { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }
      .engine-label { position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.5); color: white; padding: 4px 8px; border-radius: 4px; }
    </style>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.22.0/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl@4.22.0/dist/tf-backend-webgl.min.js"></script>
        <!-- MediaPipe Face Mesh -->
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.min.js"></script>
        <!-- Face Landmarks Detection -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection@1.0.6/dist/face-landmarks-detection.js"></script>

        <!-- MediaPipe TaskVision -->
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.22-rc.20250304/dist/tasks-vision.js"></script>
  </head>
  <body>
    <div class="col" style="gap:16px;">
      <div class="row">
        <button id="btnCamera">Start Camera</button>
      </div>
      <div class="row">
        <div class="row"><button id="btnLip">Apply Lipstick</button><input id="colorLip" type="color" value="#ff3366"/></div>
        <div class="row"><button id="btnEyeliner">Apply Eyeliner</button><input id="colorEyeliner" type="color" value="#000000"/></div>
        <div class="row"><button id="btnBlush">Apply Blush</button><input id="colorBlush" type="color" value="#ff9999"/></div>
        <div class="row"><button id="btnMustache">Apply Mustache</button><input id="colorMustache" type="color" value="#4a3000"/></div>
      </div>
      <div class="stages">
        <!-- FaceMesh Engine -->
        <div class="stage">
          <div class="engine-label">MediaPipe FaceMesh</div>
          <video id="video1" playsinline muted></video>
          <canvas id="canvas1"></canvas>
        </div>

        <!-- TaskVision Engine -->
        <div class="stage">
          <div class="engine-label">MediaPipe TaskVision</div>
          <video id="video2" playsinline muted></video>
          <canvas id="canvas2"></canvas>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>